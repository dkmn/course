<?php

require_once(drupal_get_path('module', 'course') . '/tests/CourseTestCase.test');

/**
 * Description of CourseObjectTestCase
 */
class CourseObjectTestCase extends CourseTestCase {

  public static function getInfo() {
    // Note that getInfo() strings are not translated with t().
    return array(
      'name' => 'Course objects',
      'description' => 'Ensure that Course objects function properly.',
      'group' => 'Course',
    );
  }

  function testCourseObjectBasicCrud() {
    $courseNode = $this->createCourseNode();

    // Create the course object
    $courseObject = $this->createCourseObject($courseNode);
    $id = $courseObject->getId();

    // Load by snid
    $courseObject = course_get_course_object($id);
    $this->assertTrue($courseObject->getId() == $id, 'Loaded course object by ID.');

    // Delete
    course_outline_delete_requirement($courseObject->getOptions());
    $courseObject = course_get_course_object($id);
    $this->assertFalse($courseObject, 'Check that deleted object no longer exists.');
  }

}
